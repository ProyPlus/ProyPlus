@tailwind base;
@tailwind components;
@tailwind utilities;

/* =======================
   TOKENS (Dark Azul)
   ======================= */
:root {
  /* Paleta base */
  --pp-bg-0: #0e1a2b; /* fondo app */
  --pp-bg-1: #132235; /* sidebar/topbar */
  --pp-bg-2: #182a40; /* cards/containers */
  --pp-bg-3: #1d314a; /* hover/borde */
  --pp-text-0: #e7ecf6; /* texto principal */
  --pp-text-1: #aab4c8; /* texto secundario */

  --pp-primary: #4e79ff;
  --pp-success: #27c281;
  --pp-warning: #ffb02e;
  --pp-danger:  #ff6464;
  --pp-magenta: #a855f7;

  --pp-border: rgba(255,255,255,0.06);
  --pp-radius: 14px;
  --pp-shadow: 0 2px 10px rgba(0,0,0,0.25);

  /* Mapeo a tokens de tema Lara/Aura (PrimeNG 20) */
  --surface-ground:  var(--pp-bg-0);
  --surface-section: var(--pp-bg-1);
  --surface-card:    var(--pp-bg-2);
  --surface-overlay: var(--pp-bg-2);
  --surface-hover:   var(--pp-bg-3);
  --surface-border:  var(--pp-border);

  --text-color:            var(--pp-text-0);
  --text-color-secondary:  var(--pp-text-1);

  --primary-color:           var(--pp-primary);
  --primary-contrast-color:  #fff;

  --border-radius: var(--pp-radius);

  /* opcional para utilidades propias */
  --brand: #0ea5e9;
}

/* Base */
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Inter, Roboto, "Helvetica Neue", Arial, sans-serif;
  background: var(--pp-bg-0);
  color: var(--pp-text-0);
}

/* =======================
   Superficies PrimeNG
   (estilo "card" oscuro)
   ======================= */
/* NOTA: excluimos .p-panelmenu para que el menú lateral NO quede como card. */
.p-card,
.p-panel,
.p-toolbar,
.p-dialog .p-dialog-content,
.p-dialog .p-dialog-header,
.p-sidebar,
.p-overlaypanel,
.p-menu,
.p-menubar,
.p-megamenu {
  background: var(--surface-card) !important;
  border: 1px solid var(--surface-border) !important;
  border-radius: var(--border-radius) !important;
  box-shadow: var(--pp-shadow);
}

/* Botones/Badges redondeados */
.p-button, .p-tag, .p-badge { border-radius: 999px; }
.p-button.p-button-danger { background: var(--pp-danger); border-color: var(--pp-danger); }

/* =======================
   PanelMenu (sidebar)
   mismo color que el fondo
   ======================= */
.p-panelmenu { background: transparent !important; border: 0 !important; }
.p-panelmenu .p-panelmenu-header > a,
.p-panelmenu .p-menuitem-link {
  background: transparent !important;
  color: var(--text-color);
  border: 1px solid var(--surface-border);
  border-radius: 10px;
}
.p-panelmenu .p-panelmenu-header > a:hover,
.p-panelmenu .p-menuitem-link:hover {
  background: var(--surface-hover) !important;
}

/* =======================
   DataTable – look unificado
   ======================= */
.p-datatable {
  background: var(--pp-bg-2);
  border: 1px solid var(--pp-border);
  border-radius: var(--pp-radius);
  box-shadow: var(--pp-shadow);
}

/* Header limpio */
.p-datatable .p-datatable-header {
  background: transparent;
  border: 0;
  padding: 0 0 1rem 0;
}

/* Encabezados y celdas */
.p-datatable .p-datatable-thead > tr > th {
  background: var(--pp-bg-2);
  border-color: var(--pp-border);
  color: var(--text-color-secondary);
  font-weight: 600;
}
.p-datatable .p-datatable-tbody > tr { background: var(--pp-bg-2); }
.p-datatable .p-datatable-tbody > tr > td { border-color: var(--pp-border); }

/* Texto claro en toda la tabla */
.p-datatable,
.p-datatable .p-datatable-thead > tr > th,
.p-datatable .p-datatable-tbody > tr > td,
.p-datatable .p-datatable-tfoot > tr > td {
  color: var(--text-color) !important;
}

/* Hover / selección con buen contraste */
.p-datatable .p-datatable-tbody > tr:hover > td,
.p-datatable .p-datatable-tbody > tr.p-highlight > td {
  background: var(--surface-hover) !important;
  color: var(--text-color) !important;
}

/* Inputs/Selects dentro de la tabla (filtros/buscadores) */
.p-datatable .p-inputtext,
.p-datatable .p-dropdown,
.p-datatable .p-multiselect,
.p-inputtext,
.p-inputtextarea,
.p-dropdown,
.p-multiselect,
.p-calendar .p-inputtext {
  background: var(--pp-bg-1);
  color: var(--pp-text-0);
  border: 1px solid var(--pp-border);
}
.p-inputtext::placeholder,
.p-datatable .p-inputtext::placeholder { color: var(--pp-text-1); opacity: .9; }

/* Paginator oscuro */
.p-paginator {
  color: var(--text-color) !important;
  background: transparent !important;
  border-top: 1px solid var(--surface-border);
}
.p-paginator .p-paginator-page,
.p-paginator .p-paginator-next,
.p-paginator .p-paginator-prev,
.p-paginator .p-paginator-first,
.p-paginator .p-paginator-last {
  color: var(--text-color) !important;
}

/* =======================
   Chips de estado/rol
   ======================= */
.p-tag { font-weight: 700; }
.p-tag-success { background: rgba(39,194,129,.15); color: #6ce0b0; }
.p-tag-info    { background: rgba(78,121,255,.15); color: #9db4ff; }
.p-tag-warning { background: rgba(255,176,46,.18); color: #ffd79a; }
.p-tag-danger  { background: rgba(255,100,100,.18); color: #ffb3b3; }

/* =======================
   Helpers Tailwind (tiles KPI)
   ======================= */
@layer components {
  .tile {
    @apply flex items-center gap-3 p-4 rounded-xl;
    background: var(--pp-bg-2);
    border: 1px solid var(--pp-border);
  }
  .tile-icon {
    @apply grid place-items-center rounded-xl w-9 h-9 text-white;
  }
  .tile-icon--primary { background: var(--pp-primary); }
  .tile-icon--success { background: var(--pp-success); }
  .tile-icon--warning { background: var(--pp-warning); }
  .tile-icon--magenta { background: var(--pp-magenta); }
  .tile-value { @apply text-2xl font-bold; }
}

/* =======================
   Variantes opcionales de tabla
   ======================= */
.p-datatable.table--dense .p-datatable-thead > tr > th,
.p-datatable.table--dense .p-datatable-tbody > tr > td {
  padding: .35rem .65rem;
}
.p-datatable.table--striped .p-datatable-tbody > tr:nth-child(even) {
  background: color-mix(in oklab, var(--pp-bg-2), #000 5%);
}
.p-datatable.table--nohover .p-datatable-tbody > tr:hover {
  background: inherit !important;
}



/* ====== Diseño global de tablas (modo claro/oscuro) ====== */
/* Tokens de tabla: derivan de los tokens del tema Prime (—surface-*, —text-color) */
:root {
  --tbl-bg: var(--surface-card, #fff);
  --tbl-text: var(--text-color, #111827);
  --tbl-head-bg: color-mix(in oklab, var(--surface-card, #fff), #000 3%);
  --tbl-border: var(--surface-border, #e5e7eb);
  --tbl-row-alt-bg: color-mix(in oklab, var(--surface-card, #fff), #000 2%);
  --tbl-row-hover-bg: color-mix(in oklab, var(--surface-card, #fff), #000 5%);
}

/* Dark mode: se activan cuando tengas .app-dark en <html> o <body> */
.app-dark {
  --tbl-bg: var(--surface-card, #0b1220);
  --tbl-text: var(--text-color, #e5e7eb);
  --tbl-head-bg: color-mix(in oklab, var(--surface-card, #0b1220), #fff 6%);
  --tbl-border: color-mix(in oklab, var(--surface-border, #1f2937), #fff 15%);
  --tbl-row-alt-bg: color-mix(in oklab, var(--surface-card, #0b1220), #fff 4%);
  --tbl-row-hover-bg: color-mix(in oklab, var(--surface-card, #0b1220), #fff 8%);
}

/* ---------- Tablas nativas ---------- */
table {
  width: 100%;
  border-collapse: collapse;
  background: var(--tbl-bg);
  color: var(--tbl-text);
}
thead th {
  background: var(--tbl-head-bg);
  color: var(--tbl-text);
  border-bottom: 1px solid var(--tbl-border);
  font-weight: 600;
}
tbody tr {
  background: var(--tbl-bg);
  border-bottom: 1px solid var(--tbl-border);
}
tbody tr:nth-child(even) { background: var(--tbl-row-alt-bg); }
tbody tr:hover { background: var(--tbl-row-hover-bg); }

/* Neutraliza restos de clases tipo .table-dark */
.table-dark { background: var(--tbl-bg) !important; color: var(--tbl-text) !important; }

/* ---------- PrimeNG DataTable (p-table) ---------- */
.p-datatable { background: transparent; color: var(--tbl-text); }

.p-datatable .p-datatable-thead > tr > th {
  background: var(--tbl-head-bg);
  color: var(--tbl-text);
  border-color: var(--tbl-border);
  font-weight: 600;
}

.p-datatable .p-datatable-tbody > tr {
  background: var(--tbl-bg);
  color: var(--tbl-text);
  border-color: var(--tbl-border);
}
.p-datatable .p-datatable-tbody > tr:nth-child(even) { background: var(--tbl-row-alt-bg); }
.p-datatable .p-datatable-tbody > tr:hover { background: var(--tbl-row-hover-bg); }

/* Densidad cómoda (opcional) */
.p-datatable .p-datatable-thead > tr > th,
.p-datatable .p-datatable-tbody > tr > td { padding: .75rem .75rem; }

/* Si querés desactivar rayado en una tabla puntual, envolvela con .no-stripes */
.no-stripes table tbody tr:nth-child(even),
.no-stripes .p-datatable .p-datatable-tbody > tr:nth-child(even) { background: var(--tbl-bg) !important; }
